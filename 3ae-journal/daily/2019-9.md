                    IE兼容和设计模式之创建模式
    历史的车轮翻转前进。应该不时停车看看轮胎，那里有许多不可告人的秘密。
                                                                —————题记
题外话：
    写Java整整一年了顺便兼职前端。因为公司性质不分前后端，只分软硬件。而我严格上
来说不能叫前端工程师或者Java工程师。公司ID上写的是软件工程师。同事称上位机开发。
因此这一年来的工作内容包含之广和杂，让我恶心。协议开发、swing开发、spring微服务
开发、前端开发，涵盖了整整四个软件开发方向。然而这些还不是最恶心的。因为产品原因，
海康的摄像头视频控件只能在老式的火狐上运行，版本5+以下。但目前用的前端框架是vue，
还让我用JS撸了个视频播放器内核。前端光浏览器兼容方面差点搞猝死……正好最近在搞设计
模式，就顺便写写兼容、设计模式心得吧。(想写的东西太多了，不知道从什么地方开始合适
，只能像现在这样有一块没一块地写着，这月java，下月JS……)
正文一(IE兼容):
    以前只说IE6,7,8。直到真正开始做兼容的时候才发现，应该是5、6、7、8。
    曾看过的《莱昂氏Unix源码分析》里面好多种函数实现与写法。当时也是俯拾仰取，直
到后来才明白那些都是1970年左右写出来的代码。而C语言第一代标准诞生是在89年，后来人
们把C89标准称为经典版本。那之前的还未形成标准的时期我们应该怎么称呼？起个有趣的名
字：C0标准。而今天要讲的内容对大前端人来说很熟悉，但其实很陌生————DOM0级别。
    大学时期看过很多文章，博客大篇幅介绍浏览器历史，不是广而泛，就是虎头蛇尾。并不
是一个技术人“真正”想要看的内容。而浏览器发展史————更确切地是电脑客户端网络通讯软件
与技术实现发展史。既然是软件和技术发展史，那必然伴随着软件、技术版本的更迭，包括但
不限于：最核心的通信协议版本，编码语言版本，运行环境版本，宿主环境四大模块。而IE就
是宿主环境，它实现了DHTML。整个前端的兼容难点也是建立在IE实现的DHTML不同版本上。
IE分为三个阶段:
IE4及以前：
    DHTML0: 分别包含了DOM0, html+css(没经历过这个版本，就不瞎写了)。
IE5,6,7,8：
    DHTML1: 分别包含了DOM1, html4+css2。
IE9+:
    DHTML2: 分别包含了DOM2, html5+css3。
【标注】DHTML特指HTML4这个阶段，而数字只是为了和DOM标准看齐的虚拟数字(版本号)。

对照版本表，兼容浏览器最核心的地方————如何编写出兼容DOM1和DOM2、css2和css3的代码。
(因为IE4之前的版本很少人在用了，所以目前兼容主要是IE5+。)
JS方面没什么好说的，外观模式。
css方面我尝试过很多写法，比如：
1. 标签
code: <!--[if lt IE 7 ]><html class="ie ie6"><![endif]-->
然后用JS判断当前浏览器版本，加载对应版本的css文件
2. 常用版（CSS hack）
根据不同版本浏览器的属性前缀去兼容
3. JS动态生成节点
主要判断当前浏览器是否支持CSS属性
4. 其他
网上也有一些其他方法，没试过就不举了

简而言之：需要去查阅DOM2级别和DOM1级别的差异，然后通过外观模式包装不同浏览器的原生
接口，最后根据当前浏览器的性质来加载CSS样式表。从而达到兼容。（希望有一天我的水平不
需要在靠查阅来完成该工作）。

正文二(设计模式)：
    JS有36种设计模式，到目前为止我只啃了10种共两大类：创建和结构。有人说，没有项目
支撑的代码就像未孵化的蛋，你再怎么写也是个蛋。所以我找了早前的一些业务代码，单独拆了
日志，2048小游戏，轮播三个组件。分别实现了工厂方法、单例、简单工厂、原型、外观模式。
未实现的模式有：抽象工厂，建造者，适配器，代理，备忘录模式。
链接地址：https://game.3ae.store

    理解JS设计模式必须理解js本质：“字符串”和宿主。解析器认就是代码，不认就是字符串。
而所有的jS代码都是为宿主服务的，也就是继承自Object的顶级变量。它由两部分组成————属
性和原型。
    浏览器的JS运行环境有一个顶级变量window(node环境下是global)，所有运行在该环境下
的js代码产生的结果都是在操作window对象下的属性。如果代码执行了，window对象下就会多一
个对应的对象属性；如果只是声明没有调用，那就什么也不会发生。而设计模式的诞生，也就是对
这个window对象属性的监管和优化(也有网络、缓存其他方面的)。也有对dom对象的监管和优化。

单例模式：
    就是把你写的所有的JS代码用对象收编起来，例如JQuery对象下的属性方法。而它本身就类
似一个命名空间。

工厂模式：
    在实现的时候只是挂在到windows下的全局变量。只有在实例化的时候才创建。把功能属性类
似的属性和方法收编起来，通过工厂方法传入不同的参数来实例化具体的对象。
其他创建模式：
原理都类似，只是具体实现上根据业务的不同，有不同的实例化结果。比如把初始化数据放在创建
前，初始化数据放在创建时，没有就默认值。
eg:
```js
function codeAdapter(data) {
    var _adapter = {
        name: "JS",
        content: "pattern",
        author: "sid",
        data："2019-9-4"
    }
    for(var item in _adapter) {
        _adapter[item] = data[item] || _adapter[item];
    }

    // do something
    log.obj(_adapter);      //日志打印

    return _adapter;
}

codeAdapter({
    name: "java我最强！"
});
```

如果稍微再改改就是我们熟悉的样子new Vue({});

创建模式没啥好讲的，结构留着下个月讲吧。就这样。